<?xml version="1.0" encoding="utf-8"?>
<extension type="component" version="5.0" method="upgrade">
    <name>AutoMeta</name>
    <version>2.1.0</version>
    <creationDate>2025-11-11</creationDate>
    <author>Angus Fox</author>
    <copyright>(C) 2025 Multizone Limited. All rights reserved.</copyright>
    <authorEmail>admin@multizone.co.uk</authorEmail>
    <authorUrl>https://www.multizone.co.uk</authorUrl>
    <license>GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html</license>
    <description>Automatically generates meta descriptions for Joomla articles.</description>
    <namespace path="src">Ezone\Component\AutoMeta</namespace>
    <config>
        <fields name="params">
            <fieldset name="analytics" label="COM_AUTOMETA_CONFIG_ANALYTICS_LABEL" description="COM_AUTOMETA_CONFIG_ANALYTICS_DESC">
                <field
                    name="analytics_retention_days"
                    type="number"
                    label="COM_AUTOMETA_CONFIG_RETENTION_DAYS_LABEL"
                    description="COM_AUTOMETA_CONFIG_RETENTION_DAYS_DESC"
                    default="365"
                    min="1"
                    max="3650"
                    step="1"
                    required="true"
                />
            </fieldset>
        </fields>
    </config>
    <administration>
        <menu link="index.php?option=com_autometa">AutoMeta</menu>
        <files folder=".">
            <folder>language</folder>
            <folder>services</folder>
            <folder>sql</folder>
            <folder>src</folder>
            <folder>tmpl</folder>
        </files>
        <languages folder="language">
            <language tag="en-GB">en-GB/com_autometa.ini</language>
            <language tag="en-GB">en-GB/com_autometa.sys.ini</language>
        </languages>
    </administration>
    <install>
        <sql>
            <file driver="mysql" charset="utf8mb4">sql/install/mysql.sql</file>
        </sql>
    </install>
    <uninstall>
        <sql>
            <file driver="mysql" charset="utf8mb4">sql/uninstall/mysql.sql</file>
        </sql>
    </uninstall>
    <update>
        <schemas>
            <schemapath type="mysql">sql/updates/mysql</schemapath>
        </schemas>
    </update>
</extension>
